generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

/* =========================
   ENUMS
   ========================= */

enum DesignStyle {
  solid
  art
}

enum DeliveryMethod {
  email
  whatsapp
}

enum RequestStatus {
  pending
  sent
  approved
  rejected
}

/* =========================
   MODELS
   ========================= */

model DesignRequest {
  id String @id @default(uuid())

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  status RequestStatus @default(pending)

  businessName  String
  googlePlaceId String?
  businessCity  String?

  contactName  String
  contactEmail String
  contactPhone String?

  designStyle DesignStyle
  deliveryMethod DeliveryMethod

  notes String?
  source String @default("landing")

  @@index([createdAt])
  @@index([status])
  @@index([contactEmail])
}

model Contact {
  id String @id @default(uuid())

  createdAt DateTime @default(now())

  firstName String
  lastName  String
  email     String
  message   String

  source String @default("contact_page")

  @@index([createdAt])
  @@index([email])
}
